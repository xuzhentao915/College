<view class="page-container schedule-container">
  <!-- åŠ¨æ€é¡¶éƒ¨é€‚é… -->
  <view style="height: {{navHeight}}px; width: 100%;"></view>

  <!-- ===== æ˜ŸæœŸé€‰æ‹©å™¨ ===== -->
  <view class="week-bar" style="top: {{navHeight + 10}}px;">
    <view
      class="week-item {{selectedDay === index ? 'week-active' : ''}}"
      wx:for="{{weekDays}}"
      wx:key="*this"
      bindtap="selectDay"
      data-index="{{index}}">
      <text class="week-label">{{item}}</text>
      <view class="week-dot" wx:if="{{courses[index] && courses[index].length > 0}}"></view>
    </view>
  </view>

  <!-- ===== è¯¾ç¨‹åˆ—è¡¨å†…å®¹ ===== -->
  <view class="schedule-body">
    <block wx:if="{{courses[selectedDay] && courses[selectedDay].length > 0}}">
      <view class="timeline">
        <view class="timeline-item" wx:for="{{courses[selectedDay]}}" wx:key="id">
          <!-- æ—¶é—´è½´èŠ‚ç‚¹ -->
          <view class="timeline-node" style="border-color: {{item.color}};">
            <view class="node-inner" style="background: {{item.color}};"></view>
          </view>
          
          <!-- è¯¾ç¨‹è¯¦æƒ…å¡ç‰‡ -->
          <view class="schedule-card" style="border-top: 8rpx solid {{item.color}};">
            <view class="sc-header flex-row justify-between">
              <view style="flex: 1; margin-right: 20rpx;">
                <text class="sc-name">{{item.name}}</text>
              </view>
              <view class="sc-time-badge font-num" style="background: {{item.color}}15; color: {{item.color}};">
                {{item.startTime}}
              </view>
            </view>
            
            <view class="sc-footer">
              <view class="info-item">
                <text class="info-icon">ğŸ“</text>
                <text>{{item.room}}</text>
              </view>
              <view class="info-item">
                <text class="info-icon">ğŸ‘¤</text>
                <text>{{item.teacher}}</text>
              </view>
              <view class="info-item">
                <text class="info-icon">ğŸ•’</text>
                <text class="font-num">{{item.startTime}} - {{item.endTime}}</text>
              </view>
            </view>
          </view>
        </view>
      </view>
    </block>

    <!-- ä¼‘æ¯æ—¥çŠ¶æ€ -->
    <view wx:else class="empty-day flex-col flex-center">
      <text class="empty-emoji">ğŸ¥¤</text>
      <text class="title-lg font-bold">æ²¡æœ‰è¯¾çš„æ—¶å…‰</text>
      <text class="text-md" style="color: var(--text-500); margin-top: 12rpx;">é€‚åˆå»å›¾ä¹¦é¦†æˆ–è€…å–æ¯å¥¶èŒ¶</text>
    </view>
  </view>
  
  <view style="height: 40rpx;"></view>
</view>
